# How to use orientation

## create your app

```ts
export const App = () => {
        const orientation = useOrientation()
        return (
                <div>
                        <div>alpha: {orientation?.alpha}</div>
                        <div>beta: {orientation?.beta}</div>
                        <div>gamma: {orientation?.gamma}</div>
                </div>
        )
}
```

import { Mobile } from '@site/ui/Mobile'

export const App = () => {
        const { alpha, beta, gamma } = useOrientation()
        return <Mobile alpha={alpha} beta={beta} gamma={gamma} />
}

<App />

## create orientation event

```ts
import { event } from 'reev'
import { useSyncExternalStore } from 'react'

export const self = event({
        snapshot: {},
        mount() {
                window.addEventListener('deviceorientation', self.callback)
        },
        clean() {
                window.removeEventListener('deviceorientation', self.callback)
        },
        callback(e) {
                self.snapshot = e
        },
})
```

import { event } from 'reev'
import { useSyncExternalStore } from 'react'

export const self = event({
        snapshot: {},
        mount() {
                window.addEventListener('deviceorientation', self.callback)
        },
        clean() {
                window.removeEventListener('deviceorientation', self.callback)
        },
        callback(e) {
                self.snapshot = e
        },
})

## create useOrientation hook

```ts
export const subscribe = (callback) => {
        self({ callback }).mount()
        return () => self.clean()
}

export const getSnapshot = () => self.snapshot

export const getServerSnapshot = () => self.snapshot

export const useOrientation = () => {
        return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot)
}
```

export const subscribe = (callback) => {
        self({ callback }).mount()
        return () => self.clean()
}

export const getSnapshot = () => self.snapshot

export const getServerSnapshot = () => self.snapshot

export const useOrientation = () => {
        return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot)
}
