# How to use clipboard

## create your app

```ts
import CodeBlock from '@theme/CodeBlock'

export const App = () => {
        const clipboard = useClipboard()
        return <CodeBlock>{clipboard || 'PLEASE COPY'}</CodeBlock>
}
```

import CodeBlock from '@theme/CodeBlock'

export const App = () => {
        const clipboard = useClipboard()
        return <CodeBlock>{clipboard || 'PLEASE COPY'}</CodeBlock>
}

clipboard result

<App />

## create clipboard event

```ts
import { event } from 'reev'
import { useSyncExternalStore } from 'react'

export const self = event({
        snapshot: '',
        callback() {
                navigator.clipboard.readText().then((clipText) => {
                        self.snapshot = clipText
                        self._callback()
                })
        },
        mount() {
                self.callback()
                window.addEventListener('copy', self.callback)
                window.addEventListener('cut', self.callback)
                window.addEventListener('paste', self.callback)
        },
        clean() {
                window.removeEventListener('copy', self.callback)
                window.removeEventListener('cut', self.callback)
                window.removeEventListener('paste', self.callback)
        },
})
```

import { event } from 'reev'
import { useSyncExternalStore } from 'react'

export const self = event({
        snapshot: '',
        callback() {
                navigator.clipboard.readText().then((clipText) => {
                        self.snapshot = clipText
                        self._callback()
                })
        },
        mount() {
                self.callback()
                window.addEventListener('copy', self.callback)
                window.addEventListener('cut', self.callback)
                window.addEventListener('paste', self.callback)
        },
        clean() {
                window.removeEventListener('copy', self.callback)
                window.removeEventListener('cut', self.callback)
                window.removeEventListener('paste', self.callback)
        },
})

## create useClipboard hook

```ts
export const subscribe = (callback) => {
        self._callback = callback
        self.mount()
        return () => self.clean()
}

export const getSnapshot = () => self.snapshot

export const getServerSnapshot = () => ''

export const useClipboard = () => {
        return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot)
}
```

export const subscribe = (callback) => {
        self._callback = callback
        self.mount()
        return () => self.clean()
}

export const getSnapshot = () => self.snapshot

export const getServerSnapshot = () => ''

export const useClipboard = () => {
        return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot)
}
